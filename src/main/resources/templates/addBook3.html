<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head th:include="header :: headerFragment">
<title id="pageTitle">Save book data</title>
</head>
<body>
	<div th:replace="header :: header"></div>
	<main>
	<h1>Save book data (3)</h1>
	<form action="#" th:action="@{/books/addBook}" th:object="${book}"
		method="post" id="addBookForm">
		<p>
			<label for="title">Title:</label><input type="text"
				th:field="*{title}" />
		</p>
		<p>
			<label for="author">Author:</label><input type="text" th:field="*{author}">
		</p>
		<p>
			<label for="isbn">ISBN:</label><input type="text" th:field="*{isbn}" />
		</p>
		<p>
			<label for="genre">Genre:</label><select th:field="*{genre}">
				<option th:each="genre : ${genres}" th:value="${genre.name}"
					th:text="${genre.name}"></option>
			</select><!--span
				onClick="removeFieldById('genre');this.onclick='removeOnClick(event)'"
				class="spanButton" id="makeNoGenre" style="cursor: pointer">No
				genre</span -->
				<label for="noGenre">No genre</label><input type="checkbox" name="noGenre" id="noGenre" />
		</p>
		<p>
			<label for="location">Location:</label><select th:field="*{location}">
				<option th:each="location : ${locations}"
					th:value="${location.name}" th:text="${location.name}"
					th:title="${location.description}"></option>
			</select>
		</p>
		<p>
			<label></label><input type="submit" value="Add" />
		</p>
	</form>
	<br />
	<span th:text="${message}" id="message">Message</span> </main>
	<script>

function removeOnClick(event) {
	removeFieldById('genre');
	var t = event.target;
	t.removeEventListener("click", removeOnClick);
}



window.onload=function(){
	applyNoGenres("addBookForm");
}




</script>
</body>
</html>